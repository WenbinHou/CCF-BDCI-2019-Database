#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    83 \
    FURNITURE  1999-08-26 1996-08-29 513 \
    AUTOMOBILE 1992-08-10 1992-05-31 5442 \
    BUILDING   1999-08-02 1998-01-25 1815 \
    MACHINERY  1993-10-02 1990-01-09 5123 \
    AUTOMOBILE 1995-09-30 1995-01-08 421 \
    FURNITURE  1995-10-23 1991-07-19 8546 \
    MACHINERY  1991-08-19 1990-03-11 1590 \
    FURNITURE  1990-02-28 1990-02-07 2653 \
    AUTOMOBILE 1999-03-23 1998-08-29 7733 \
    HOUSEHOLD  1992-07-16 1990-12-15 8263 \
    MACHINERY  1996-07-10 1994-12-12 5342 \
    MACHINERY  1991-09-03 1990-07-01 8984 \
    MACHINERY  1999-12-26 1999-07-12 7179 \
    AUTOMOBILE 1993-11-15 1991-10-31 3821 \
    BUILDING   1994-07-26 1993-05-14 9423 \
    AUTOMOBILE 1997-03-08 1992-05-25 8566 \
    AUTOMOBILE 1995-10-23 1995-02-18 8656 \
    BUILDING   1993-11-16 1991-11-06 2781 \
    FURNITURE  1994-05-14 1992-07-03 3695 \
    MACHINERY  1993-04-14 1990-08-27 5928 \
    BUILDING   1997-02-04 1994-10-08 1126 \
    BUILDING   1991-11-07 1990-01-19 2775 \
    FURNITURE  1993-12-06 1990-04-14 3438 \
    HOUSEHOLD  1992-12-13 1991-10-21 3500 \
    FURNITURE  1990-10-06 1990-05-22 174 \
    MACHINERY  1991-05-05 1991-04-16 5525 \
    MACHINERY  1995-08-28 1992-01-14 7474 \
    AUTOMOBILE 1995-07-15 1990-11-10 5819 \
    FURNITURE  1993-01-21 1991-11-30 7635 \
    HOUSEHOLD  1991-07-02 1990-03-04 7771 \
    MACHINERY  1997-11-02 1997-04-21 2615 \
    HOUSEHOLD  1990-05-30 1990-05-20 2703 \
    FURNITURE  1992-10-21 1992-07-01 9494 \
    BUILDING   1991-05-03 1990-08-16 4983 \
    MACHINERY  1995-11-15 1994-04-05 7078 \
    BUILDING   1997-09-20 1995-12-24 2143 \
    FURNITURE  1994-06-29 1990-08-02 3257 \
    HOUSEHOLD  1990-07-24 1990-01-12 1409 \
    FURNITURE  1997-11-01 1995-10-16 1322 \
    BUILDING   1994-10-11 1990-01-30 248 \
    HOUSEHOLD  1998-12-01 1997-01-07 4378 \
    HOUSEHOLD  1990-09-08 1990-05-13 569 \
    BUILDING   1994-05-09 1992-04-30 3503 \
    BUILDING   1992-01-28 1990-02-20 9525 \
    HOUSEHOLD  1992-07-09 1990-05-30 5631 \
    MACHINERY  1998-09-18 1995-09-01 1360 \
    HOUSEHOLD  1996-02-19 1992-01-28 3632 \
    FURNITURE  1994-08-22 1994-03-19 6468 \
    MACHINERY  1991-09-27 1991-04-16 3633 \
    AUTOMOBILE 1996-01-26 1995-06-30 1880 \
    AUTOMOBILE 1995-04-16 1993-07-04 3657 \
    BUILDING   1998-03-17 1995-12-18 3371 \
    HOUSEHOLD  1993-04-20 1992-05-26 1059 \
    BUILDING   1994-07-31 1992-04-18 9774 \
    FURNITURE  1996-04-24 1991-07-07 3261 \
    BUILDING   1992-01-15 1991-07-08 1212 \
    MACHINERY  1994-08-05 1991-07-08 4685 \
    BUILDING   1994-06-12 1993-08-22 6636 \
    FURNITURE  1990-11-23 1990-03-15 364 \
    MACHINERY  1999-10-24 1998-03-26 2022 \
    AUTOMOBILE 1994-03-23 1994-03-15 6114 \
    AUTOMOBILE 1991-03-03 1990-10-14 3639 \
    MACHINERY  1993-08-23 1990-12-20 5336 \
    FURNITURE  1990-10-27 1990-06-09 3817 \
    BUILDING   1992-03-31 1990-04-05 5110 \
    FURNITURE  1996-03-11 1995-09-30 9842 \
    HOUSEHOLD  1993-03-12 1992-11-24 4602 \
    MACHINERY  1995-04-29 1990-03-23 9374 \
    BUILDING   1998-11-14 1994-07-15 8358 \
    BUILDING   1995-12-27 1993-11-19 3384 \
    HOUSEHOLD  1993-10-09 1992-11-16 2795 \
    BUILDING   1996-01-07 1994-01-21 9173 \
    BUILDING   1993-10-19 1993-02-05 2638 \
    BUILDING   1995-02-28 1990-08-06 5701 \
    FURNITURE  1990-01-05 1990-01-02 3036 \
    FURNITURE  1997-04-12 1990-08-01 5545 \
    BUILDING   1993-05-06 1992-11-26 6953 \
    AUTOMOBILE 1990-11-27 1990-05-10 6462 \
    AUTOMOBILE 1996-10-27 1990-11-27 7861 \
    BUILDING   1996-05-16 1994-12-04 9310 \
    BUILDING   1992-11-19 1990-07-16 4341 \
    BUILDING   1995-05-08 1992-04-18 8146 \
    FURNITURE  1999-08-15 1994-10-26 9648 \
    \
    >"$(basename "$0").stdout"

echo
diff "$(basename "$0").stdout" "$(basename "$0").result"

