#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    35 \
    AUTOMOBILE 1994-03-19 1991-10-10 5079 \
    HOUSEHOLD  1999-05-27 1994-07-02 6682 \
    MACHINERY  1990-12-30 1990-11-14 475 \
    FURNITURE  1999-10-17 1991-03-13 7275 \
    FURNITURE  1995-03-14 1994-10-31 3071 \
    BUILDING   1990-09-05 1990-07-06 1642 \
    AUTOMOBILE 1999-07-13 1990-09-07 7081 \
    FURNITURE  1997-09-16 1991-07-04 6579 \
    HOUSEHOLD  1997-04-28 1990-08-10 6814 \
    FURNITURE  1997-11-28 1990-03-17 2494 \
    MACHINERY  1993-10-10 1990-05-06 9990 \
    AUTOMOBILE 1993-03-20 1990-04-19 4031 \
    BUILDING   1998-01-28 1993-04-16 9959 \
    FURNITURE  1999-02-20 1992-03-11 8377 \
    HOUSEHOLD  1998-10-05 1995-08-16 4187 \
    MACHINERY  1990-05-19 1990-01-11 8842 \
    AUTOMOBILE 1990-01-22 1990-01-15 4118 \
    MACHINERY  1998-10-06 1996-04-10 776 \
    AUTOMOBILE 1996-09-10 1992-04-30 8684 \
    FURNITURE  1991-02-12 1990-07-27 1171 \
    BUILDING   1999-11-03 1997-01-29 7481 \
    MACHINERY  1996-07-14 1991-10-16 5235 \
    FURNITURE  1991-11-30 1990-05-15 4565 \
    MACHINERY  1991-08-13 1991-04-24 9955 \
    FURNITURE  1992-09-22 1990-02-06 7628 \
    BUILDING   1997-06-30 1993-07-13 8798 \
    HOUSEHOLD  1997-12-27 1992-09-06 7963 \
    FURNITURE  1991-12-09 1991-10-05 7914 \
    AUTOMOBILE 1993-05-22 1992-02-08 9760 \
    AUTOMOBILE 1997-07-10 1996-03-07 7663 \
    BUILDING   1994-06-01 1990-02-22 266 \
    FURNITURE  1991-08-19 1990-04-27 4701 \
    BUILDING   1997-07-13 1995-12-01 9957 \
    BUILDING   1993-03-09 1990-02-26 792 \
    BUILDING   1997-06-17 1993-03-31 3149 \
    \
    >"$(basename "$0").stdout"

echo
diff "$(basename "$0").stdout" "$(basename "$0").result"

