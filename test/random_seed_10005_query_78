#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    78 \
    HOUSEHOLD  1990-12-05 1990-06-09 779 \
    FURNITURE  1995-02-13 1991-08-25 2487 \
    HOUSEHOLD  1991-05-30 1990-10-16 7325 \
    FURNITURE  1996-05-01 1992-10-31 2232 \
    HOUSEHOLD  1996-09-08 1994-01-23 1073 \
    BUILDING   1999-09-21 1996-03-08 9944 \
    MACHINERY  1997-02-11 1991-06-13 3395 \
    BUILDING   1994-09-03 1992-01-31 9765 \
    BUILDING   1994-07-05 1994-04-02 4891 \
    HOUSEHOLD  1999-12-26 1991-05-06 6898 \
    BUILDING   1993-05-02 1990-02-19 772 \
    HOUSEHOLD  1994-03-14 1992-07-07 3205 \
    BUILDING   1997-11-13 1996-02-02 8944 \
    HOUSEHOLD  1990-01-16 1990-01-15 7433 \
    FURNITURE  1991-07-27 1991-06-20 4269 \
    MACHINERY  1996-07-29 1991-04-30 6290 \
    BUILDING   1990-04-19 1990-04-07 561 \
    MACHINERY  1999-02-12 1990-09-13 5725 \
    HOUSEHOLD  1995-07-14 1991-07-28 371 \
    MACHINERY  1997-08-09 1992-04-04 2433 \
    HOUSEHOLD  1997-08-21 1995-09-02 9031 \
    MACHINERY  1993-08-25 1990-12-04 3700 \
    FURNITURE  1991-05-10 1991-02-07 9319 \
    BUILDING   1999-10-20 1991-03-07 7344 \
    BUILDING   1990-06-24 1990-02-11 7947 \
    BUILDING   1991-06-28 1990-06-18 545 \
    BUILDING   1999-06-30 1992-01-06 2581 \
    HOUSEHOLD  1993-11-30 1993-09-20 6061 \
    AUTOMOBILE 1996-02-10 1995-09-10 9922 \
    AUTOMOBILE 1994-07-11 1992-11-20 2099 \
    FURNITURE  1998-07-09 1993-02-02 7115 \
    FURNITURE  1995-03-03 1992-06-20 5474 \
    FURNITURE  1999-02-10 1997-03-22 2197 \
    BUILDING   1992-04-25 1990-06-13 7749 \
    AUTOMOBILE 1995-11-17 1995-08-08 1477 \
    AUTOMOBILE 1997-10-17 1996-11-07 945 \
    HOUSEHOLD  1996-04-08 1993-08-16 841 \
    BUILDING   1996-10-21 1994-10-23 9391 \
    MACHINERY  1992-07-06 1990-06-15 6785 \
    HOUSEHOLD  1996-12-01 1990-01-02 7775 \
    BUILDING   1994-09-07 1993-01-18 2465 \
    MACHINERY  1999-12-31 1996-07-12 2340 \
    FURNITURE  1999-04-08 1994-08-09 1574 \
    MACHINERY  1995-09-23 1992-03-14 9829 \
    MACHINERY  1995-03-27 1995-02-03 1476 \
    AUTOMOBILE 1997-02-20 1996-01-27 7908 \
    AUTOMOBILE 1990-04-09 1990-02-21 3568 \
    MACHINERY  1993-04-23 1991-07-01 7895 \
    HOUSEHOLD  1995-11-15 1990-11-24 8435 \
    MACHINERY  1995-07-27 1991-09-09 9503 \
    MACHINERY  1990-10-23 1990-06-26 2955 \
    MACHINERY  1993-04-13 1991-04-07 4792 \
    BUILDING   1995-12-15 1991-11-02 2689 \
    FURNITURE  1996-04-24 1993-06-22 3850 \
    HOUSEHOLD  1994-04-15 1991-07-10 6889 \
    BUILDING   1999-08-12 1998-07-26 5998 \
    AUTOMOBILE 1996-02-11 1995-03-24 4986 \
    HOUSEHOLD  1996-10-09 1992-02-22 1164 \
    BUILDING   1996-07-18 1991-05-02 1027 \
    AUTOMOBILE 1991-09-19 1991-09-10 654 \
    HOUSEHOLD  1997-07-11 1993-10-16 9456 \
    MACHINERY  1995-07-08 1990-01-14 9414 \
    MACHINERY  1991-11-25 1991-10-21 4225 \
    HOUSEHOLD  1997-12-27 1997-06-27 2593 \
    AUTOMOBILE 1998-09-25 1996-12-25 937 \
    BUILDING   1994-03-01 1993-03-04 7434 \
    BUILDING   1997-11-17 1993-02-16 1973 \
    AUTOMOBILE 1993-08-15 1991-09-30 9061 \
    BUILDING   1994-06-26 1992-10-23 7069 \
    HOUSEHOLD  1995-11-27 1994-08-27 6750 \
    AUTOMOBILE 1991-10-26 1990-10-30 5606 \
    HOUSEHOLD  1992-02-09 1990-04-25 9264 \
    FURNITURE  1991-07-20 1991-01-31 7884 \
    BUILDING   1994-05-30 1990-05-01 6388 \
    AUTOMOBILE 1991-02-07 1990-08-06 6862 \
    MACHINERY  1995-02-15 1993-01-10 7822 \
    BUILDING   1998-02-23 1991-03-02 805 \
    AUTOMOBILE 1996-01-18 1993-10-24 4503 \
    \
    >"$(basename "$0").stdout"

echo
diff "$(basename "$0").stdout" "$(basename "$0").result"

