#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../src/BDCI19.out \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    40 \
    AUTOMOBILE 1991-09-17 1991-05-14 8899\
    BUILDING   1991-07-25 1990-07-03 4475\
    HOUSEHOLD  1991-10-06 1990-10-21 5003\
    BUILDING   1993-03-10 1990-01-31 924\
    BUILDING   1998-12-31 1991-07-02 1402\
    MACHINERY  1993-01-06 1991-01-31 9710\
    MACHINERY  1991-07-22 1990-09-22 9609\
    BUILDING   1990-06-11 1990-02-26 8935\
    MACHINERY  1994-11-12 1991-12-21 8254\
    HOUSEHOLD  1998-04-04 1994-12-14 3114\
    HOUSEHOLD  1991-03-21 1990-08-08 299\
    BUILDING   1991-07-16 1990-08-05 6858\
    HOUSEHOLD  1994-04-07 1992-04-02 195\
    HOUSEHOLD  1990-09-26 1990-06-16 8617\
    AUTOMOBILE 1999-08-30 1997-03-20 7606\
    MACHINERY  1995-12-08 1994-09-25 5744\
    MACHINERY  1994-03-21 1990-03-17 6335\
    BUILDING   1992-04-22 1992-01-16 1272\
    MACHINERY  1995-01-19 1994-11-06 7799\
    AUTOMOBILE 1996-03-10 1992-03-07 1035\
    FURNITURE  1994-11-13 1994-09-10 8691\
    MACHINERY  1995-06-13 1990-05-07 2701\
    FURNITURE  1995-10-31 1991-02-09 213\
    HOUSEHOLD  1997-05-16 1997-04-27 9155\
    MACHINERY  1991-06-23 1991-02-22 4012\
    AUTOMOBILE 1992-02-16 1991-03-01 5181\
    MACHINERY  1999-09-27 1993-09-18 6277\
    AUTOMOBILE 1996-03-14 1994-01-30 6356\
    MACHINERY  1993-09-24 1992-05-14 7415\
    AUTOMOBILE 1994-11-29 1993-03-06 8644\
    AUTOMOBILE 1997-10-31 1991-06-20 1450\
    AUTOMOBILE 1995-08-26 1991-04-10 2450\
    MACHINERY  1992-01-29 1991-10-31 8511\
    FURNITURE  1998-04-01 1994-05-15 9215\
    MACHINERY  1993-05-07 1991-02-14 9837\
    AUTOMOBILE 1996-04-06 1990-05-13 7929\
    HOUSEHOLD  1996-09-05 1993-03-22 6391\
    BUILDING   1996-09-19 1996-08-09 319\
    BUILDING   1999-08-08 1996-11-22 8110\
    AUTOMOBILE 1995-05-27 1994-02-18 2685\
    \
    >"$(basename "$0").stdout"

echo
diff "$(basename "$0").stdout" "$(basename "$0").result"

